{"ast":null,"code":"import { useRef, useEffect } from \"react\";\nimport { onEvent, offEvent } from \"./vanilla.mjs\";\nfunction useEvent(eventName, handler) {\n  let deps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  let options = arguments.length > 3 ? arguments[3] : undefined;\n  const handlerRef = useRef(handler);\n  useEffect(() => void (handlerRef.current = handler), [handler]);\n  useEffect(() => {\n    const handler2 = event => {\n      var _a;\n      return (_a = handlerRef.current) == null ? void 0 : _a.call(handlerRef, event);\n    };\n    const context = onEvent(eventName, handler2, options);\n    return () => offEvent(eventName, handler2, {\n      ...options,\n      context\n    });\n  }, [eventName, options == null ? void 0 : options.once, ...deps]);\n}\nexport { useEvent };","map":{"version":3,"names":["useEvent","eventName","handler","deps","arguments","length","undefined","options","handlerRef","useRef","useEffect","current","handler2","event","_a","call","context","onEvent","offEvent","once"],"sources":["/home/joshua/Documents/proyectos/proyecto-integrador/reto_clase_4/node_modules/@utsubo/events/src/react.ts"],"sourcesContent":["import { useRef, useEffect } from 'react'\nimport { onEvent, offEvent } from './vanilla'\nimport type { EventHandler, EventOptions } from './types'\n\n/**\n * React hook for creating a listener for a given event.\n */\nexport function useEvent(eventName: string, handler: EventHandler, deps: any[] = [], options?: EventOptions): void {\n  const handlerRef = useRef<EventHandler>(handler)\n  useEffect(() => void (handlerRef.current = handler), [handler])\n\n  useEffect(() => {\n    const handler = (event: any) => handlerRef.current?.(event)\n    const context = onEvent(eventName, handler, options)\n\n    return () => offEvent(eventName, handler, { ...options, context })\n  }, [eventName, options?.once, ...deps])\n}\n"],"mappings":";;AAOO,SAASA,SAASC,SAAA,EAAmBC,OAAA,EAAuE;EAAA,IAAhDC,IAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAc;EAAA,IAAIG,OAAA,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAC7E,MAAAE,UAAA,GAAaC,MAAA,CAAqBP,OAAO;EAC/CQ,SAAA,CAAU,MAAM,MAAMF,UAAA,CAAWG,OAAA,GAAUT,OAAA,GAAU,CAACA,OAAO,CAAC;EAE9DQ,SAAA,CAAU,MAAM;IACd,MAAME,QAAA,GAAWC,KAAA,IAAe;;MAAA,QAAAC,EAAA,GAAAN,UAAA,CAAWG,OAAA,KAAX,gBAAAG,EAAA,CAAAC,IAAA,CAAAP,UAAA,EAAqBK,KAAA;IAAA;IACrD,MAAMG,OAAA,GAAUC,OAAA,CAAQhB,SAAA,EAAWW,QAAA,EAASL,OAAO;IAE5C,aAAMW,QAAA,CAASjB,SAAA,EAAWW,QAAA,EAAS;MAAE,GAAGL,OAAA;MAASS;IAAA,CAAS;EAAA,GAChE,CAACf,SAAA,EAAWM,OAAA,oBAAAA,OAAA,CAASY,IAAA,EAAM,GAAGhB,IAAI,CAAC;AACxC"},"metadata":{},"sourceType":"module","externalDependencies":[]}